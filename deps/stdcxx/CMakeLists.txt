if(NOT TARGET stdcxx::stdcxx)
  execute_process(COMMAND ${CMAKE_CXX_COMPILER} -print-libgcc-file-name OUTPUT_VARIABLE GCC_LIB)
  get_filename_component(GCC_ROOT ${GCC_LIB} DIRECTORY)
  find_library(stdcxx_LIBRARIES libstdc++.a PATHS ${GCC_ROOT} NO_DEFAULT_PATH)
  if(stdcxx_LIBRARIES)
    message(STATUS "Found libstdc++: ${stdcxx_LIBRARIES}")
  else()
    message(FATAL_ERROR "libstdc++ is not found")
  endif()
  add_library(stdcxx::stdcxx STATIC IMPORTED GLOBAL)
  set_property(TARGET stdcxx::stdcxx PROPERTY IMPORTED_LOCATION ${stdcxx_LIBRARIES})
  set_property(TARGET stdcxx::stdcxx PROPERTY INTERFACE_LINK_LIBRARIES pthread dl rt m)
  install(FILES ${stdcxx_LIBRARIES} DESTINATION lib)
endif()
